(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],[,,,,function(e,t,a){e.exports={Searchbar__header:"Searchbar_Searchbar__header__cNYzy",SearchForm:"Searchbar_SearchForm__1so_3",SearchFormButton:"Searchbar_SearchFormButton__3FIqT",SearchFormButton__label:"Searchbar_SearchFormButton__label__2MJO0",SearchForm__input:"Searchbar_SearchForm__input__3TI5w"}},,,,function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1GJ9y",ImageGalleryItem:"ImageGallery_ImageGalleryItem__N7Xeg",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__18edq"}},function(e,t,a){e.exports={status__message:"ImageInfo_status__message__19JVQ"}},,,function(e,t,a){e.exports={Modal__backdrop:"Modal_Modal__backdrop__3dX1j"}},function(e,t,a){e.exports={BtnLoadMore:"Button_BtnLoadMore__1ph3-",ButtonLoadMore:"Button_ButtonLoadMore__1_dVw"}},,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);a(14),a(15);var r=a(0),n=a.n(r),c=a(3),o=a.n(c),s=a(2),u=a(7),l=a(4),i=a.n(l),m=a(1);function b(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1];return Object(m.jsx)("header",{className:i.a.Searchbar__header,children:Object(m.jsxs)("form",{className:i.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("enter the queryn")},children:[Object(m.jsx)("button",{type:"submit",className:i.a.SearchFormButton,children:Object(m.jsx)("span",{className:i.a.SearchFormButton__label,children:"Search"})}),Object(m.jsx)("input",{className:i.a.SearchForm__input,type:"text",name:"query",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var j=a(10),_=a(8),d=a.n(_);function h(e){var t=e.photo,a=e.onImgClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.tags,n=e.webformatURL,c=e.largeImageURL;return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,dataalt:r,datalarge:c,onClick:a,children:Object(m.jsx)("img",{className:d.a.ImageGalleryItemImage,src:n,alt:r})},t)}))})})}var g=a(9),O=a.n(g),f=a(13),p=a.n(f);function S(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:p.a.BtnLoadMore,onClick:t,children:"Load more"})}var x=a(12),y=a.n(x),I=document.querySelector("#modal-root");var v=function(e){var t=e.tags,a=e.modalUrl,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),window.removeEventListener("keydown",o)}));var o=function(e){return"Escape"!==e.code?null:n()},s=function(e){return e.currentTarget!==e.target?null:n()};return Object(c.createPortal)(Object(m.jsx)("div",{className:y.a.Modal__backdrop,children:Object(m.jsx)("div",{className:y.a.Modal__content,onClick:s,children:Object(m.jsx)("img",{src:a,onClick:s,alt:t})})}),I)},k="idle",F="pending",N="resolved",w="rejected";function B(e){var t=e.query,a=Object(r.useState)([]),n=Object(s.a)(a,2),c=n[0],o=n[1],u=Object(r.useState)(k),l=Object(s.a)(u,2),i=l[0],b=l[1],_=Object(r.useState)(1),d=Object(s.a)(_,2),g=d[0],f=d[1],p=Object(r.useState)(!1),x=Object(s.a)(p,2),y=x[0],I=x[1],B=Object(r.useState)(""),C=Object(s.a)(B,2),G=C[0],M=C[1],L=Object(r.useState)(""),q=Object(s.a)(L,2),E=q[0],T=q[1];function J(e,t){return fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&q=".concat(e,"&page=").concat(t,"&key=23459982-aeff0c389b47d03a141af0a17")).then((function(e){return e.json()}))}Object(r.useEffect)((function(){t&&(f(1),b(F),J(t).then((function(e){o(Object(j.a)(e.hits)),f((function(e){return e+1})),b(N)})).catch((function(e){return b(w)})))}),[t]);var U=function(e,t){I((function(e){return!e})),M(e),T(t)};return i===k?Object(m.jsx)("div",{className:O.a.status__message,children:"Please enter your search "}):i===F?Object(m.jsx)("div",{className:O.a.status__message,children:"loading..."}):0===c.length?Object(m.jsx)("div",{className:O.a.status__message,children:"Sorry we nothing found for you"}):i===N?Object(m.jsxs)(m.Fragment,{children:[y&&Object(m.jsx)(v,{onClose:U,modalUrl:G,tags:E}),Object(m.jsx)(h,{photo:c,onImgClick:function(e){var t=e.currentTarget.getAttribute("dataalt"),a=e.currentTarget.getAttribute("datalarge");U(a,t)}}),c.length>10&&Object(m.jsx)(S,{onClick:function(e){b(F),J(t,g).then((function(e){return o((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))}))}),f((function(e){return e+1})),b(N)).catch((function(e){return b(w)}))}})]}):void 0}function C(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{onSubmit:n}),Object(m.jsx)(B,{query:a}),Object(m.jsx)(u.a,{autoClose:3e3})]})}o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.b585236d.chunk.js.map