{"version":3,"sources":["Searchbar/Searchbar.module.css","ImageGallery/ImageGallery.module.css","ImageInfo/ImageInfo.module.css","Modal/Modal.module.css","Button/Button.module.css","Searchbar/Searchbar.js","ImageGallery/ImageGallery.js","Button/Button.js","Modal/Modal.js","ImageInfo/ImageInfo.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","Searchbar__header","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButton__label","SearchForm__input","name","value","onChange","event","currentTarget","toLowerCase","placeholder","ImageGallery","photo","onImgClick","map","id","tags","webformatURL","largeImageURL","ImageGalleryItem","dataalt","datalarge","onClick","ImageGalleryItemImage","src","alt","Button","BtnLoadMore","modalRoot","document","querySelector","Modal","modalUrl","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","handleBackdropClick","target","createPortal","Modal__backdrop","Modal__content","Status","ImageInfo","setPhoto","status","setStatus","page","setPage","showModal","setShowModal","setModalUrl","setTags","fetchImages","fetch","then","respons","json","hits","catch","toggleModal","prev","status__message","length","getAttribute","url","newPhoto","prevState","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6a4fb72b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar__header\":\"Searchbar_Searchbar__header__cNYzy\",\"SearchForm\":\"Searchbar_SearchForm__1so_3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3FIqT\",\"SearchFormButton__label\":\"Searchbar_SearchFormButton__label__2MJO0\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3TI5w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1GJ9y\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__N7Xeg\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__18edq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status__message\":\"ImageInfo_status__message__19JVQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__3dX1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnLoadMore\":\"Button_BtnLoadMore__1ph3-\",\"ButtonLoadMore\":\"Button_ButtonLoadMore__1_dVw\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n  const handleQueryChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n  const handleQuerySubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      toast.error('enter the queryn');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar__header}>\n      <form className={s.SearchForm} onSubmit={handleQuerySubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButton__label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm__input}\n          type=\"text\"\n          name=\"query\"\n          value={query}\n          onChange={handleQueryChange}\n          // autoComplete=\"off\"\n          // autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ photo, onImgClick }) {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {photo.map(({ id, tags, webformatURL, largeImageURL }) => (\n          <li\n            className={s.ImageGalleryItem}\n            key={id}\n            dataalt={tags}\n            datalarge={largeImageURL}\n            onClick={onImgClick}\n          >\n            <img\n              className={s.ImageGalleryItemImage}\n              src={webformatURL}\n              alt={tags}\n            />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  id: PropTypes.string,\n  tags: PropTypes.string,\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  onImgClick: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.BtnLoadMore} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ tags, modalUrl, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return window.removeEventListener('keydown', handleKeyDown);\n  });\n\n  const handleKeyDown = e => {\n    return e.code !== 'Escape' ? null : onClose();\n  };\n\n  const handleBackdropClick = e => {\n    return e.currentTarget !== e.target ? null : onClose();\n  };\n\n  return createPortal(\n    <div className={s.Modal__backdrop}>\n      <div className={s.Modal__content} onClick={handleBackdropClick}>\n        <img src={modalUrl} onClick={handleBackdropClick} alt={tags} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\nModal.propTypes = {\n  tags: PropTypes.string.isRequired,\n  modalUrl: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import ImageGallery from 'ImageGallery';\nimport s from './ImageInfo.module.css';\nimport Button from 'Button';\nimport Modal from 'Modal';\nimport { useState, useEffect } from 'react/cjs/react.development';\n// import PropTypes from 'prop-types'\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageInfo({ query }) {\n  const [photo, setPhoto] = useState([]);\n\n  const [status, setStatus] = useState(Status.IDLE);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState('');\n  const [tags, setTags] = useState('');\n\n  function fetchImages(query, page) {\n    return fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&q=${query}&page=${page}&key=23459982-aeff0c389b47d03a141af0a17`,\n    ).then(respons => {\n      return respons.json();\n    });\n  }\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    setPage(1);\n    setStatus(Status.PENDING);\n    fetchImages(query)\n      .then(photo => {\n        setPhoto([...photo.hits]);\n        setPage(page => page + 1);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => setStatus(Status.REJECTED));\n    // eslint-disable-next-line\n  }, [query]);\n\n  const loadMore = e => {\n    setStatus(Status.PENDING);\n    fetchImages(query, page)\n      .then(\n        newPhoto => setPhoto(prevState => [...prevState, ...newPhoto.hits]),\n\n        setPage(page => page + 1),\n        setStatus(Status.RESOLVED),\n      )\n      .catch(error => setStatus(Status.REJECTED));\n  };\n\n  const toggleModal = (modalUrl, tags) => {\n    setShowModal(prev => !prev);\n    setModalUrl(modalUrl);\n    setTags(tags);\n  };\n  const onGalleryCardClick = e => {\n    const tags = e.currentTarget.getAttribute('dataalt');\n    const url = e.currentTarget.getAttribute('datalarge');\n    toggleModal(url, tags);\n  };\n\n  if (status === Status.IDLE) {\n    return <div className={s.status__message}>Please enter your search </div>;\n  }\n  if (status === Status.PENDING) {\n    return <div className={s.status__message}>loading...</div>;\n  }\n\n  if (photo.length === 0) {\n    return (\n      <div className={s.status__message}>Sorry we nothing found for you</div>\n    );\n  }\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={toggleModal} modalUrl={modalUrl} tags={tags} />\n        )}\n        <ImageGallery photo={photo} onImgClick={onGalleryCardClick} />\n        {photo.length > 10 && <Button onClick={loadMore} />}\n      </>\n    );\n  }\n}\n","import { ToastContainer } from 'react-toastify';\nimport { useState } from 'react';\n// import PropTypes from 'prop-types';\nimport Searchbar from 'Searchbar';\nimport ImageInfo from './ImageInfo';\nexport default function App() {\n  const [query, setQuery] = useState('');\n\n  return (\n    <>\n      <Searchbar onSubmit={setQuery} />\n      <ImageInfo query={query} />\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n","import 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}